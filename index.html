<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âè•Â≠êÁÖâÈáëË°ìÂ∏´ v2.0 | The Phrase Alchemist</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Noto+Sans+TC:wght@300;400;500&family=Patrick+Hand&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #fdfbf7;
            --card-bg: #ffffff;
            --primary: #2c3e50;
            --accent: #e67e22; 
            --success: #27ae60;
            --text: #333;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .game-container {
            width: 100%;
            max-width: 600px;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 2px solid #eee;
        }

        h1 { font-family: 'Noto Serif TC', serif; color: var(--primary); margin-bottom: 5px; }
        .subtitle { color: #7f8c8d; font-size: 0.9em; margin-bottom: 20px; }

        /* Progress & Score */
        .stats-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 0.9em;
            color: #7f8c8d;
        }

        .progress-container {
            width: 100%;
            background-color: #eee;
            border-radius: 10px;
            margin-bottom: 30px;
            height: 8px;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--accent);
            border-radius: 10px;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Category Tag */
        .category-tag {
            display: inline-block;
            background-color: #ecf0f1;
            color: #7f8c8d;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.75em;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Challenge Section */
        .challenge-box {
            background-color: #f8f9fa;
            border-left: 5px solid var(--primary);
            padding: 20px;
            margin-bottom: 25px;
            text-align: left;
            border-radius: 5px;
        }

        .label {
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #95a5a6;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }

        .boring-sentence {
            font-size: 1.3em;
            font-weight: 500;
            color: #2c3e50;
        }

        /* Input Section */
        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: 'Noto Sans TC', sans-serif;
            font-size: 1em;
            resize: none;
            height: 80px;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }
        textarea:focus { outline: none; border-color: var(--accent); }

        /* Buttons */
        .btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1em;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.1s, background-color 0.3s;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn:hover { transform: translateY(-2px); background-color: #34495e; }
        .btn-next { background-color: var(--accent); display: none; margin-top: 20px; }
        .btn-next:hover { background-color: #d35400; }

        /* Result Section */
        .result-box {
            margin-top: 30px;
            display: none;
            animation: fadeIn 0.5s ease;
            text-align: left;
            background: #fff8e1;
            padding: 20px;
            border-radius: 10px;
            border: 1px dashed var(--accent);
        }

        .keith-says {
            font-family: 'Patrick Hand', cursive;
            font-size: 1.4em;
            color: var(--primary);
            margin-bottom: 10px;
            display: block;
        }

        .explanation { font-size: 0.95em; color: #555; line-height: 1.6; margin-top: 10px; }
        .highlight { color: var(--accent); font-weight: bold; background-color: rgba(230, 126, 34, 0.1); padding: 0 4px; border-radius: 3px; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .footer { margin-top: 20px; font-size: 0.8em; color: #bdc3c7; }
    </style>
</head>
<body>

    <div class="game-container">
        <h1>Âè•Â≠êÁÖâÈáëË°ìÂ∏´ v2.0</h1>
        <div class="subtitle">Life is a game. Play with English.</div>
        
        <div class="stats-bar">
            <span id="levelDisplay">Level: 1/10</span>
            <span>Total Database: 30+ Phrases</span>
        </div>

        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div id="gameContent">
            
            <div id="categoryBadge" class="category-tag">General</div>

            <div class="challenge-box">
                <span class="label">Boring Sentence</span>
                <div class="boring-sentence" id="boringSentence">Loading...</div>
            </div>

            <div class="input-area">
                <textarea id="userInput" placeholder="How would a native speaker say this? (Write your guess...)"></textarea>
            </div>

            <button class="btn" id="polishBtn" onclick="polishSentence()">‚ú® Polish it!</button>

            <div class="result-box" id="resultBox">
                <span class="label">Keith-Style Upgrade</span>
                <span class="keith-says" id="keithVersion">...</span>
                <div class="explanation" id="explanation">...</div>
            </div>

            <button class="btn btn-next" id="nextBtn" onclick="nextCard()">Next Challenge ‚û°Ô∏è</button>

        </div>
    </div>

    <div class="footer">Based on Keith English Academy Principles</div>

    <script>
        // --- Êì¥ÂÖÖÂæåÁöÑÈ°åÂ∫´ (ÂåÖÂê´ËÅ∑Â†¥„ÄÅÁîüÊ¥ª„ÄÅÊÉÖÁ∑í) ---
        const fullDatabase = [
            // Emotions & State
            { cat: "Emotion", boring: "I am very busy.", keith: "I'm swamped.", alt: "I'm tied up.", explanation: "<span class='highlight'>Swamped</span> means you have too much work, like being stuck in a swamp!" },
            { cat: "Emotion", boring: "I am very happy.", keith: "I'm over the moon!", alt: "I'm on cloud nine.", explanation: "A classic British idiom. Use it when you are extremely delighted." },
            { cat: "Emotion", boring: "I'm very tired.", keith: "I'm knackered.", alt: "I'm shattered.", explanation: "<span class='highlight'>Knackered</span> is very British slang for exhausted. Don't use it in formal emails!" },
            { cat: "Emotion", boring: "I am angry.", keith: "I'm fuming.", alt: "I'm livid.", explanation: "<span class='highlight'>Fuming</span> implies you are so angry that smoke is coming out of your ears." },
            { cat: "Emotion", boring: "I'm sad / disappointed.", keith: "I'm gutted.", alt: "I'm bummed out.", explanation: "<span class='highlight'>Gutted</span> means you feel empty inside (in your gut) because of bad news." },
            
            // Daily Life
            { cat: "Daily", boring: "I woke up late.", keith: "I slept in.", alt: "I overslept.", explanation: "<span class='highlight'>Slept in</span> is intentional (lazy Sunday). <span class='highlight'>Overslept</span> is an accident (late for work)." },
            { cat: "Daily", boring: "I want to sleep.", keith: "I'm going to hit the sack.", alt: "I'm turning in.", explanation: "A very common idiom for going to bed." },
            { cat: "Daily", boring: "It's raining heavily.", keith: "It's pouring down.", alt: "It's bucketing down.", explanation: "Essential vocabulary for living in the UK!" },
            { cat: "Daily", boring: "I met him by chance.", keith: "I bumped into him.", alt: "I ran into him.", explanation: "Sounds much more dynamic than 'met'." },
            { cat: "Daily", boring: "Let's meet up.", keith: "Let's catch up.", alt: "Let's get together.", explanation: "<span class='highlight'>Catch up</span> implies you want to hear their news, not just see them." },
            { cat: "Daily", boring: "I like this music.", keith: "I'm really into this music.", alt: "This is my jam!", explanation: "<span class='highlight'>Into</span> shows passion and interest." },
            { cat: "Daily", boring: "I stopped eating sugar.", keith: "I cut out sugar.", alt: "I gave up sugar.", explanation: "<span class='highlight'>Cut out</span> is a great phrasal verb for stopping a habit completely." },
            { cat: "Daily", boring: "Wait a moment.", keith: "Hang on a sec.", alt: "Bear with me.", explanation: "<span class='highlight'>Hang on</span> is casual. 'Bear with me' is polite." },
            
            // Workplace / Formal
            { cat: "Work", boring: "I don't know.", keith: "I haven't the foggiest idea.", alt: "Beats me.", explanation: "British idiom meaning your mind is full of fog." },
            { cat: "Work", boring: "Can I help you?", keith: "Can I give you a hand?", alt: "Need a hand?", explanation: "Offering a hand sounds more friendly and less robotic." },
            { cat: "Work", boring: "I will contact you later.", keith: "I'll get back to you.", alt: "I'll be in touch.", explanation: "The standard professional phrasal verb for replying later." },
            { cat: "Work", boring: "Let's start the meeting.", keith: "Let's get the ball rolling.", alt: "Let's kick things off.", explanation: "A great idiom to start a project or meeting with energy." },
            { cat: "Work", boring: "I agree with you.", keith: "We're on the same page.", alt: "I'm with you on that.", explanation: "Means we have the same understanding." },
            { cat: "Work", boring: "It was easy.", keith: "It was a breeze.", alt: "It was a walk in the park.", explanation: "<span class='highlight'>A breeze</span> implies it was light and effortless." },
            { cat: "Work", boring: "I have no money.", keith: "I'm broke.", alt: "I'm strapped for cash.", explanation: "Casual way to say you have no funds right now." },
            { cat: "Work", boring: "She is rich.", keith: "She's rolling in it.", alt: "She's loaded.", explanation: "Visual idiom for having lots of money." },
            { cat: "Work", boring: "Decide quickly.", keith: "Make up your mind.", alt: "make a decision.", explanation: "<span class='highlight'>Make up</span> is the phrasal verb for deciding." },
            { cat: "Work", boring: "I tolerated his bad behavior.", keith: "I put up with it.", alt: "I stood for it.", explanation: "<span class='highlight'>Put up with</span> is essential for describing tolerance of annoyance." },
            { cat: "Work", boring: "Please continue.", keith: "Carry on.", alt: "Go ahead.", explanation: "Simple, effective phrasal verb." },
            { cat: "Work", boring: "The meeting was cancelled.", keith: "The meeting was called off.", alt: "It was scrapped.", explanation: "<span class='highlight'>Call off</span> is the specific phrasal verb for cancelling events." }
        ];

        // Game State
        let gameQueue = [];
        let currentIndex = 0;
        const totalQuestions = 10; // ÊØèÊ¨°Áé© 10 È°åÔºå‰øùÊåÅÊñ∞ÈÆÆÊÑü

        // Shuffle function (Fisher-Yates)
        function shuffle(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        // Initialize Game
        window.onload = function() {
            // ÂæûÁ∏ΩÈ°åÂ∫´Èö®Ê©üÈÅ∏ 10 È°å
            const shuffled = shuffle([...fullDatabase]);
            gameQueue = shuffled.slice(0, totalQuestions);
            loadCard(0);
        }

        function loadCard(index) {
            // UI Reset
            document.getElementById('userInput').value = "";
            document.getElementById('resultBox').style.display = "none";
            document.getElementById('nextBtn').style.display = "none";
            document.getElementById('polishBtn').style.display = "inline-block";
            
            // Update Text
            const card = gameQueue[index];
            document.getElementById('boringSentence').innerText = card.boring;
            document.getElementById('categoryBadge').innerText = card.cat;
            
            // Update Stats
            document.getElementById('levelDisplay').innerText = `Level: ${index + 1}/${totalQuestions}`;
            
            // Update Progress Bar
            const progress = ((index) / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progress + "%";
        }

        function polishSentence() {
            const card = gameQueue[currentIndex];
            
            // Show Result
            document.getElementById('keithVersion').innerHTML = `‚ú® ${card.keith}`;
            document.getElementById('explanation').innerHTML = `${card.explanation}<br><br><strong>Alternative:</strong> ${card.alt}`;
            document.getElementById('resultBox').style.display = "block";
            
            // Button Logic
            document.getElementById('polishBtn').style.display = "none";
            document.getElementById('nextBtn').style.display = "inline-block";
        }

        function nextCard() {
            currentIndex++;
            if (currentIndex >= totalQuestions) {
                // End Screen
                document.getElementById('gameContent').innerHTML = `
                    <div style="padding:40px;">
                        <h2>üéâ Session Complete!</h2>
                        <p>You've leveled up your English sense.</p>
                        <p>Want to play another round with different phrases?</p>
                        <button class="btn" onclick="location.reload()">Play Again</button>
                    </div>
                `;
                document.getElementById('progressBar').style.width = "100%";
            } else {
                loadCard(currentIndex);
            }
        }
    </script>
</body>
</html>
